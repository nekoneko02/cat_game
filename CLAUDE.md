# Claude Code Rules

## 開発規約遵守

このプロジェクトでは以下の開発規約に従ってください：

### ステップ数の考え方
- 状態更新処理は1秒あたりの変化量で定義する
- 更新を指示する側はFPS（フレームレート）を意識せずにコーディング
- 実行時にFPSで割って実際の更新量を計算
- 処理遅延を考慮し、実時間ではなくゲーム内時間を使用

### Configuration設計
- AI猫の行動決定における重み計算は外部configで調整可能にする
- 重み計算は行列計算モデル（weights + bias + inputs/outputs）で設定
- 計算処理は各ドメインに適した場所に実装（汎用クラスでの一元管理は避ける）

### ドメイン駆動設計
- `ドメインモデル.drawio`（`ドメインモデル.png`）に定義された構造に従う
- ドメイン間の責務を明確に分離
- ビジネスロジックはドメインオブジェクト内に配置

### 商用リリース品質
- 不要なコメント（「what」を説明するもの）は削除
- 意味のあるコメント（「why」を説明するもの）は許容
- 変数名・メソッド名で意図を明確に表現
- エラーログ・警告ログは適切に出力、意味のない情報ログは削除
- 調査用の一時的なログは許容

## 実装時の注意点

1. コード作成前に`DEVELOPMENT_GUIDELINES.md`の内容を確認
2. 時間ベースの状態更新を実装
3. 設定による重み計算の調整可能性を確保
4. ドメインモデルとの整合性を維持
5. 商用品質のコードを作成（不要な要素を除去）

詳細は[DEVELOPMENT_GUIDELINES.md](./DEVELOPMENT_GUIDELINES.md)を参照してください。